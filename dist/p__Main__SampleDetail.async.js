(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{"7PRV":function(e,t,a){"use strict";a.r(t);a("IzEo");var n,s,o,i,r=a("bx4M"),l=(a("g9YV"),a("wCAj")),d=(a("14J3"),a("BMrR")),p=(a("+L6B"),a("2/Rp")),c=(a("Pwec"),a("CtXQ")),m=(a("jCWc"),a("kPKH")),g=a("p0pE"),y=a.n(g),u=(a("/xke"),a("TeRw")),S=a("2Taf"),f=a.n(S),I=a("vZ4D"),h=a.n(I),w=a("l4Ni"),v=a.n(w),A=a("ujKo"),C=a.n(A),k=a("MhPg"),D=a.n(k),R=(a("OaEy"),a("2fM7")),K=(a("y8nQ"),a("Vl3Y")),b=a("q1tI"),x=a.n(b),E=a("MuoO"),M=a("usdK"),O=a("zHco"),z=a("WXOI"),F=a.n(z),N=(K["a"].Item,R["a"].Option,n=Object(E["connect"])(function(e){var t=e.inspectionAnalysis,a=e.loading;return{inspectionAnalysis:t,loading:a.models.inspectionAnalysis}}),s=K["a"].create(),n(o=s((i=function(e){function t(){var e,a;f()(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return a=v()(this,(e=C()(t)).call.apply(e,[this].concat(s))),a.state={formValues:{},addOne:!1,addMany:!1,onDelete:!1,selectedRowKeys:[],deleteRowKeys:[],data:[],standard:[],itemName:[]},a.columns=[{title:"\u6307\u6807\u540d\u79f0",dataIndex:"itemC"},{title:"\u82f1\u6587\u540d\u79f0",dataIndex:"itemE"},{title:"\u68c0\u6d4b\u6807\u51c6",dataIndex:"teststandard"},{title:"\u5355\u4f4d",dataIndex:"unit"},{title:"\u53c2\u8003\u503c",dataIndex:"refervalue1"},{title:"\u6bd4\u8f83\u65b9\u6cd5",dataIndex:"calway1"},{title:"\u5141\u8bb8\u6d6e\u52a8",dataIndex:"rangevalue1"},{title:"\u5f3a\u5236",dataIndex:"orFixed"}],a.back=function(){M["a"].push({pathname:"/Main/SampleIndex"})},a.handleCancel=function(){a.setState({addOne:!1}),a.setState({addMany:!1}),a.setState({onDelete:!1})},a.showAddOne=function(){var e=a.props,t=e.dispatch,n=e.form;n.resetFields();var s=sessionStorage.getItem("reportno"),o=sessionStorage.getItem("sampleno"),i=sessionStorage.getItem("cargoname");t({type:"inspectionAnalysis/getItemNames",payload:{reportno:s,sampleno:o,cargonameC:i},callback:function(e){a.setState({itemName:e.data})}}),a.setState({addOne:!0})},a.showAddMany=function(){var e=a.props,t=e.dispatch,n=(e.form,sessionStorage.getItem("reportno")),s=sessionStorage.getItem("sampleno"),o=sessionStorage.getItem("cargoname");a.setState({addMany:!0}),t({type:"inspectionAnalysis/getItems",payload:{reportno:n,sampleno:s,cargonameC:o}}),a.setState({selectedRowKeys:[]})},a.showDelete=function(){a.setState({onDelete:!0}),a.setState({deleteRowKeys:[]})},a.onSelectChange=function(e){a.setState({selectedRowKeys:e})},a.onDeleteChange=function(e){a.setState({deleteRowKeys:e})},a.delete=function(){var e=a.state.deleteRowKeys,t=a.props.dispatch,n=sessionStorage.getItem("reportno"),s=sessionStorage.getItem("sampleno");t({type:"inspectionAnalysis/deleteDetails",payload:{deleteRowKeys:e},callback:function(e){200===e.code?(u["a"].open({message:"\u5220\u9664\u6210\u529f"}),t({type:"inspectionAnalysis/getDetails",payload:{reportno:n,sampleno:s}})):u["a"].open({message:"\u5220\u9664\u5931\u8d25",description:e.data})}}),a.setState({onDelete:!1})},a.onAddOne=function(){var e=a.props,t=e.dispatch,n=e.form,s=sessionStorage.getItem("reportno"),o=sessionStorage.getItem("sampleno"),i=sessionStorage.getItem("cargoname");n.validateFields(function(e,a){if(console.log(e),!e){var n=y()({},a,{reportno:s,sampleno:o,cargonameC:i});t({type:"inspectionAnalysis/addDetail",payload:y()({},n),callback:function(e){200===e.code?(u["a"].open({message:"\u6dfb\u52a0\u6210\u529f"}),t({type:"inspectionAnalysis/getDetails",payload:{reportno:s,sampleno:o}})):u["a"].open({message:"\u6dfb\u52a0\u5931\u8d25",description:e.data})}})}}),a.setState({addOne:!1})},a.handleChange=function(e){var t=a.props,n=t.dispatch,s=t.form,o=sessionStorage.getItem("cargoname");n({type:"inspectionAnalysis/getStandards",payload:{itemC:e,cargonameC:o},callback:function(e){a.setState({standard:e.data})}}),s.setFieldsValue({standard:null})},a.addMany=function(){var e=sessionStorage.getItem("reportno"),t=sessionStorage.getItem("sampleno"),n=sessionStorage.getItem("cargoname"),s=a.state.selectedRowKeys,o=a.props,i=o.dispatch;o.inspectionAnalysis.items;i({type:"inspectionAnalysis/addDetails",payload:{reportno:e,sampleno:t,cargonameC:n,selectedRowKeys:s},callback:function(a){200===a.code?(u["a"].open({message:"\u6dfb\u52a0\u6210\u529f"}),i({type:"inspectionAnalysis/getDetails",payload:{reportno:e,sampleno:t}})):u["a"].open({message:"\u6dfb\u52a0\u5931\u8d25",description:a.data})}}),a.setState({addMany:!1}),a.props.history.goBack()},a}return D()(t,e),h()(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch,t=sessionStorage.getItem("reportno"),a=sessionStorage.getItem("sampleno");e({type:"inspectionAnalysis/getAllDetails",payload:{reportno:t,sampleno:a}})}},{key:"render",value:function(){var e=this.props,t=e.inspectionAnalysis,a=t.detail,n=(t.items,e.loading),s=(e.form.getFieldDecorator,sessionStorage.getItem("reportno")),o=sessionStorage.getItem("cargoname"),i=sessionStorage.getItem("sampleno"),g={reportno:s,cargoname:o,sampleno:i};return x.a.createElement(O["a"],{text:g},x.a.createElement(r["a"],{bordered:!1,size:"small"},x.a.createElement(d["a"],null,x.a.createElement(m["a"],{sm:22}),x.a.createElement(m["a"],{span:2},x.a.createElement(p["a"],{type:"primary",style:{marginLeft:8,paddingLeft:0,paddingRight:15},onClick:this.back},x.a.createElement(c["a"],{type:"left"}),"\u8fd4\u56de"))),x.a.createElement("div",{className:F.a.tableList},x.a.createElement(l["a"],{size:"middle",loading:n,dataSource:a,pagination:{showQuickJumper:!0,showSizeChanger:!0},columns:this.columns,rowKey:"reportno"}))))}}]),t}(b["PureComponent"]),o=i))||o)||o);t["default"]=N}}]);