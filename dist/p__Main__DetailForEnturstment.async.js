(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{JTZI:function(e,t,a){"use strict";a.r(t);a("g9YV");var n,r,l,o=a("wCAj"),i=(a("IzEo"),a("bx4M")),c=(a("bP8k"),a("gFTJ")),s=(a("/zsF"),a("PArb")),m=(a("2qtc"),a("kLXV")),d=(a("14J3"),a("BMrR")),p=(a("+L6B"),a("2/Rp")),u=(a("Pwec"),a("CtXQ")),g=(a("jCWc"),a("kPKH")),f=(a("/xke"),a("TeRw")),h=a("p0pE"),b=a.n(h),y=a("2Taf"),E=a.n(y),v=a("vZ4D"),I=a.n(v),w=a("MhPg"),k=a.n(w),R=a("l4Ni"),S=a.n(R),C=a("ujKo"),D=a.n(C),x=(a("tU7J"),a("wFql")),z=a("q1tI"),F=a.n(z),P=a("MuoO"),B=a("zHco"),J=a("wd/R"),M=a.n(J),V=a("z0wU");a("prD2");function Y(e){return function(){var t,a=D()(e);if(q()){var n=D()(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return S()(this,t)}}function q(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var L=x["a"].Title,O=(n=Object(P["connect"])(function(e){var t=e.main,a=e.loading;return{main:t,loading:a.models.main}}),n((l=function(e){k()(a,e);var t=Y(a);function a(){var e;E()(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),e.state={visible:!1,showVisible:!1,url:"",cnasInfo:{checkcode:"",checkname:"",domaincode:"",domainname:"",subdomaincode:"",subdomainname:""},readRecords:[]},e.columns=[{title:"\u6587\u4ef6\u540d\u79f0",dataIndex:"recordname"},{title:"\u4e0a\u4f20\u65e5\u671f",dataIndex:"recorddate",render:function(t){return e.isValidDate(t)}},{title:"\u64cd\u4f5c",render:function(t,a){return F.a.createElement(z["Fragment"],null,F.a.createElement("a",{onClick:function(){return e.previewItem(t,a)}},"\u67e5\u770b"))}}],e.columns1=[{title:"\u5ba1\u9605\u4eba\u59d3\u540d",dataIndex:"realname"},{title:"\u5ba1\u9605\u65f6\u95f4",dataIndex:"readdate",render:function(t){return e.isValidDate(t)}},{title:"\u8054\u7cfb\u7535\u8bdd",dataIndex:"tel"},{title:"\u5ba1\u9605\u4eba\u6240\u5728\u5355\u4f4d",dataIndex:"company"},{title:"\u6765\u6e90",dataIndex:"organization"},{title:"\u72b6\u6001",dataIndex:"state"}],e.isValidDate=function(e){return void 0!==e&&null!==e?F.a.createElement("span",null,M()(e).format("YYYY-MM-DD")):[]},e.previewItem=function(t){var a=e.props.dispatch,n=sessionStorage.getItem("reportno"),r=b()({},t,{reportno:n,source:"\u59d4\u6258"});a({type:"main/getRecord",payload:r,callback:function(t){if(400===t.code)f["a"].open({message:"\u6253\u5f00\u5931\u8d25",description:t.data});else{var a=t.data;e.setState({url:a})}}}),e.setState({showVisible:!0})},e.handleOk=function(t){console.log(t);var a=e.props,n=a.dispatch,r=(a.match,sessionStorage.getItem("reportno"));n({type:"entrustment/remove",payload:{reportno:r}}),e.setState({visible:!1})},e.handleCancel=function(t){console.log(t),e.setState({visible:!1})},e.deleteReport=function(){e.setState({visible:!0})},e.back=function(){e.props.history.goBack()},e.showCancel=function(){e.setState({showVisible:!1})},e.getPlaceFromCode=function(e){var t="".concat(e.substring(0,2),"0000"),a="".concat(e.substring(0,4),"00"),n=e,r=V["a"].find(function(e){return e.value===t});if(void 0===r)return F.a.createElement("span",null,n);var l=r.children.find(function(e){return e.value===a}),o=l.children.find(function(e){return e.value===n});return F.a.createElement("span",null,r.label,"/",l.label,"/",o.label)},e}return I()(a,[{key:"componentWillMount",value:function(){var e=this,t=sessionStorage.getItem("reportno"),a=this.props.dispatch;JSON.parse(localStorage.getItem("customs_userinfo"));a({type:"main/getReport",payload:t}),a({type:"main/getRecordInfo",payload:{reportno:t,source:"\u59d4\u6258"}}),a({type:"main/getAllReadRecords",payload:{reportno:t},callback:function(t){400===t.code?f["a"].open({message:"\u5ba1\u9605\u8bb0\u5f55\u5931\u8d25",description:t.data}):e.setState({readRecords:t.data})}})}},{key:"render",value:function(){var e=this.props,t=e.main,a=t.recordData,n=t.report,r=e.loading,l=this.state,f=l.showVisible,h=l.url,b=(l.cnasInfo,l.readRecords);return F.a.createElement(B["a"],{loading:r},F.a.createElement(i["a"],{bordered:!1},F.a.createElement(d["a"],{gutter:16},F.a.createElement(g["a"],{span:3},F.a.createElement(L,{level:3},"\u59d4\u6258\u8be6\u60c5")),F.a.createElement(g["a"],{span:19}),F.a.createElement(g["a"],{span:2},F.a.createElement(p["a"],{type:"primary",style:{marginLeft:8,paddingLeft:0,paddingRight:15},onClick:this.back},F.a.createElement(u["a"],{type:"left"}),"\u8fd4\u56de"))),F.a.createElement(m["a"],{title:"\u786e\u8ba4",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel},F.a.createElement("p",null,"\u662f\u5426\u64a4\u9500")),F.a.createElement(s["a"],{style:{marginBottom:32}}),F.a.createElement(c["a"],{size:"large",title:"\u4e1a\u52a1\u4fe1\u606f",style:{marginBottom:32},bordered:!0},F.a.createElement(c["a"].Item,{label:"\u62a5\u5173\u53f7"},n.customsNo),F.a.createElement(c["a"].Item,{label:"\u59d4\u6258\u53f7"},n.reportno),F.a.createElement(c["a"].Item,{label:"\u62a5\u68c0\u65e5\u671f"},M()(n.reportdate).format("YYYY-MM-DD")),F.a.createElement(c["a"].Item,{label:"\u6536/\u53d1\u8d27\u4eba"},n.applicant),F.a.createElement(c["a"].Item,{label:"\u8054\u7cfb\u4eba"},n.applicantname),F.a.createElement(c["a"].Item,{label:"\u8054\u7cfb\u7535\u8bdd"},n.applicanttel),F.a.createElement(c["a"].Item,{label:"\u4ee3\u7406\u4eba"},n.agent),F.a.createElement(c["a"].Item,{label:"\u8054\u7cfb\u4eba"},n.agentname),F.a.createElement(c["a"].Item,{label:"\u8054\u7cfb\u7535\u8bdd"},n.agenttel)),F.a.createElement(s["a"],{style:{marginBottom:32}}),F.a.createElement(c["a"],{size:"large",title:"\u8d27\u7269\u4fe1\u606f",style:{marginBottom:32},bordered:!0},F.a.createElement(c["a"].Item,{label:"\u8d27\u7269\u540d\u79f0"},n.cargoname),F.a.createElement(c["a"].Item,{label:"\u4fd7\u79f0"},n.chineselocalname),F.a.createElement(c["a"].Item,{label:"\u8239\u540d\u6807\u8bc6"},n.shipname),F.a.createElement(c["a"].Item,{label:"\u62a5\u68c0\u6570\u91cf"},(void 0===n.quantityd||null===n.quantityd?"":n.quantityd)+n.unit),F.a.createElement(c["a"].Item,{span:2,label:"\u5730\u70b9"},void 0===n.inspplace1||null===n.inspplace1?"":this.getPlaceFromCode(n.inspplace1),n.inspplace2)),F.a.createElement(s["a"],{style:{marginBottom:32}}),F.a.createElement(c["a"],{size:"large",title:"\u68c0\u67e5\u9879\u76ee",style:{marginBottom:32},bordered:!0},F.a.createElement(c["a"].Item,{span:3,label:"\u68c0\u9a8c\u9879\u76ee"},n.inspway),F.a.createElement(c["a"].Item,{span:3,label:"\u5907\u6ce8"},n.inspwaymemo1))),F.a.createElement(i["a"],{bordered:!1,title:"\u9644\u4ef6"},F.a.createElement("div",null,F.a.createElement(o["a"],{size:"middle",loading:r,dataSource:a,columns:this.columns,rowKey:"recordname",pagination:{showQuickJumper:!0,showSizeChanger:!0}}))),F.a.createElement(i["a"],{bordered:!1,title:"\u5ba1\u9605\u8bb0\u5f55"},F.a.createElement("div",null,F.a.createElement(o["a"],{size:"middle",loading:r,dataSource:b,columns:this.columns1,rowKey:"recordname",pagination:{showQuickJumper:!0,showSizeChanger:!0}}))),F.a.createElement(m["a"],{title:"\u8bb0\u5f55\u8be6\u60c5",visible:f,onCancel:this.showCancel,footer:null,width:800,style:{top:10}},F.a.createElement("embed",{src:h,style:{width:"100%",height:.8*document.body.clientHeight},type:"application/pdf"})))}}]),a}(z["Component"]),r=l))||r);t["default"]=O},prD2:function(e,t,a){e.exports={card:"antd-pro-pages-main-style-card",heading:"antd-pro-pages-main-style-heading",steps:"antd-pro-pages-main-style-steps",errorIcon:"antd-pro-pages-main-style-errorIcon",errorPopover:"antd-pro-pages-main-style-errorPopover",errorListItem:"antd-pro-pages-main-style-errorListItem",errorField:"antd-pro-pages-main-style-errorField",editable:"antd-pro-pages-main-style-editable",advancedForm:"antd-pro-pages-main-style-advancedForm",aa:"antd-pro-pages-main-style-aa",optional:"antd-pro-pages-main-style-optional"}}}]);