(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{JTZI:function(e,a,t){"use strict";t.r(a);t("g9YV");var n,r,l,o=t("wCAj"),i=(t("IzEo"),t("bx4M")),c=(t("bP8k"),t("gFTJ")),s=(t("/zsF"),t("PArb")),m=(t("2qtc"),t("kLXV")),d=(t("14J3"),t("BMrR")),p=(t("+L6B"),t("2/Rp")),u=(t("Pwec"),t("CtXQ")),g=(t("jCWc"),t("kPKH")),b=(t("/xke"),t("TeRw")),h=t("p0pE"),y=t.n(h),E=t("2Taf"),f=t.n(E),I=t("vZ4D"),v=t.n(I),w=t("l4Ni"),k=t.n(w),C=t("ujKo"),S=t.n(C),R=t("MhPg"),z=t.n(R),x=(t("tU7J"),t("wFql")),D=t("q1tI"),F=t.n(D),B=t("MuoO"),J=t("zHco"),M=t("wd/R"),P=t.n(M),V=t("z0wU"),Y=(t("prD2"),x["a"].Title),q=(n=Object(B["connect"])(function(e){var a=e.main,t=e.loading;return{main:a,loading:t.models.main}}),n((l=function(e){function a(){var e,t;f()(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=k()(this,(e=S()(a)).call.apply(e,[this].concat(r))),t.state={visible:!1,showVisible:!1,url:"",cnasInfo:{checkcode:"",checkname:"",domaincode:"",domainname:"",subdomaincode:"",subdomainname:""},readRecords:[]},t.columns=[{title:"\u6587\u4ef6\u540d\u79f0",dataIndex:"recordname"},{title:"\u4e0a\u4f20\u65e5\u671f",dataIndex:"recorddate",render:function(e){return t.isValidDate(e)}},{title:"\u64cd\u4f5c",render:function(e,a){return F.a.createElement(D["Fragment"],null,F.a.createElement("a",{onClick:function(){return t.previewItem(e,a)}},"\u67e5\u770b"))}}],t.columns1=[{title:"\u5ba1\u9605\u4eba\u59d3\u540d",dataIndex:"realname"},{title:"\u5ba1\u9605\u65f6\u95f4",dataIndex:"readdate",render:function(e){return t.isValidDate(e)}},{title:"\u8054\u7cfb\u7535\u8bdd",dataIndex:"tel"},{title:"\u5ba1\u9605\u4eba\u6240\u5728\u5355\u4f4d",dataIndex:"company"},{title:"\u6765\u6e90",dataIndex:"organization"},{title:"\u72b6\u6001",dataIndex:"state"}],t.isValidDate=function(e){return void 0!==e&&null!==e?F.a.createElement("span",null,P()(e).format("YYYY-MM-DD")):[]},t.previewItem=function(e){var a=t.props.dispatch,n=sessionStorage.getItem("reportno"),r=y()({},e,{reportno:n,source:"\u59d4\u6258"});a({type:"main/getRecord",payload:r,callback:function(e){if(400===e.code)b["a"].open({message:"\u6253\u5f00\u5931\u8d25",description:e.data});else{var a=e.data;t.setState({url:a})}}}),t.setState({showVisible:!0})},t.handleOk=function(e){console.log(e);var a=t.props,n=a.dispatch,r=(a.match,sessionStorage.getItem("reportno"));n({type:"entrustment/remove",payload:{reportno:r}}),t.setState({visible:!1})},t.handleCancel=function(e){console.log(e),t.setState({visible:!1})},t.deleteReport=function(){t.setState({visible:!0})},t.back=function(){t.props.history.goBack()},t.showCancel=function(){t.setState({showVisible:!1})},t.getPlaceFromCode=function(e){var a="".concat(e.substring(0,2),"0000"),t="".concat(e.substring(0,4),"00"),n=e,r=V["a"].find(function(e){return e.value===a});if(void 0===r)return F.a.createElement("span",null,n);var l=r.children.find(function(e){return e.value===t}),o=l.children.find(function(e){return e.value===n});return F.a.createElement("span",null,r.label,"/",l.label,"/",o.label)},t}return z()(a,e),v()(a,[{key:"componentWillMount",value:function(){var e=this,a=sessionStorage.getItem("reportno"),t=this.props.dispatch;JSON.parse(localStorage.getItem("customs_userinfo"));t({type:"main/getReport",payload:a}),t({type:"main/getRecordInfo",payload:{reportno:a,source:"\u59d4\u6258"}}),t({type:"main/getAllReadRecords",payload:{reportno:a},callback:function(a){400===a.code?b["a"].open({message:"\u5ba1\u9605\u8bb0\u5f55\u5931\u8d25",description:a.data}):e.setState({readRecords:a.data})}})}},{key:"render",value:function(){var e=this.props,a=e.main,t=a.recordData,n=a.report,r=e.loading,l=this.state,b=l.showVisible,h=l.url,y=(l.cnasInfo,l.readRecords);return F.a.createElement(J["a"],{loading:r},F.a.createElement(i["a"],{bordered:!1},F.a.createElement(d["a"],{gutter:16},F.a.createElement(g["a"],{span:3},F.a.createElement(Y,{level:3},"\u59d4\u6258\u8be6\u60c5")),F.a.createElement(g["a"],{span:19}),F.a.createElement(g["a"],{span:2},F.a.createElement(p["a"],{type:"primary",style:{marginLeft:8,paddingLeft:0,paddingRight:15},onClick:this.back},F.a.createElement(u["a"],{type:"left"}),"\u8fd4\u56de"))),F.a.createElement(m["a"],{title:"\u786e\u8ba4",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel},F.a.createElement("p",null,"\u662f\u5426\u64a4\u9500")),F.a.createElement(s["a"],{style:{marginBottom:32}}),F.a.createElement(c["a"],{size:"large",title:"\u4e1a\u52a1\u4fe1\u606f",style:{marginBottom:32},bordered:!0},F.a.createElement(c["a"].Item,{label:"\u62a5\u5173\u53f7"},n.customsNo),F.a.createElement(c["a"].Item,{label:"\u59d4\u6258\u53f7"},n.reportno),F.a.createElement(c["a"].Item,{label:"\u62a5\u68c0\u65e5\u671f"},P()(n.reportdate).format("YYYY-MM-DD")),F.a.createElement(c["a"].Item,{label:"\u6536/\u53d1\u8d27\u4eba"},n.applicant),F.a.createElement(c["a"].Item,{label:"\u8054\u7cfb\u4eba"},n.applicantname),F.a.createElement(c["a"].Item,{label:"\u8054\u7cfb\u7535\u8bdd"},n.applicanttel),F.a.createElement(c["a"].Item,{label:"\u4ee3\u7406\u4eba"},n.agent),F.a.createElement(c["a"].Item,{label:"\u8054\u7cfb\u4eba"},n.agentname),F.a.createElement(c["a"].Item,{label:"\u8054\u7cfb\u7535\u8bdd"},n.agenttel)),F.a.createElement(s["a"],{style:{marginBottom:32}}),F.a.createElement(c["a"],{size:"large",title:"\u8d27\u7269\u4fe1\u606f",style:{marginBottom:32},bordered:!0},F.a.createElement(c["a"].Item,{label:"\u8d27\u7269\u540d\u79f0"},n.cargoname),F.a.createElement(c["a"].Item,{label:"\u4fd7\u79f0"},n.chineselocalname),F.a.createElement(c["a"].Item,{label:"\u8239\u540d\u6807\u8bc6"},n.shipname),F.a.createElement(c["a"].Item,{label:"\u62a5\u68c0\u6570\u91cf"},(void 0===n.quantityd||null===n.quantityd?"":n.quantityd)+n.unit),F.a.createElement(c["a"].Item,{span:2,label:"\u5730\u70b9"},void 0===n.inspplace1||null===n.inspplace1?"":this.getPlaceFromCode(n.inspplace1),n.inspplace2)),F.a.createElement(s["a"],{style:{marginBottom:32}}),F.a.createElement(c["a"],{size:"large",title:"\u68c0\u67e5\u9879\u76ee",style:{marginBottom:32},bordered:!0},F.a.createElement(c["a"].Item,{span:3,label:"\u68c0\u9a8c\u9879\u76ee"},n.inspway),F.a.createElement(c["a"].Item,{span:3,label:"\u5907\u6ce8"},n.inspwaymemo1))),F.a.createElement(i["a"],{bordered:!1,title:"\u9644\u4ef6"},F.a.createElement("div",null,F.a.createElement(o["a"],{size:"middle",loading:r,dataSource:t,columns:this.columns,rowKey:"recordname",pagination:{showQuickJumper:!0,showSizeChanger:!0}}))),F.a.createElement(i["a"],{bordered:!1,title:"\u5ba1\u9605\u8bb0\u5f55"},F.a.createElement("div",null,F.a.createElement(o["a"],{size:"middle",loading:r,dataSource:y,columns:this.columns1,rowKey:"recordname",pagination:{showQuickJumper:!0,showSizeChanger:!0}}))),F.a.createElement(m["a"],{title:"\u8bb0\u5f55\u8be6\u60c5",visible:b,onCancel:this.showCancel,footer:null,width:800,style:{top:10}},F.a.createElement("embed",{src:h,style:{width:"100%",height:.8*document.body.clientHeight},type:"application/pdf"})))}}]),a}(D["Component"]),r=l))||r);a["default"]=q},prD2:function(e,a,t){e.exports={card:"antd-pro-pages-main-style-card",heading:"antd-pro-pages-main-style-heading",steps:"antd-pro-pages-main-style-steps",errorIcon:"antd-pro-pages-main-style-errorIcon",errorPopover:"antd-pro-pages-main-style-errorPopover",errorListItem:"antd-pro-pages-main-style-errorListItem",errorField:"antd-pro-pages-main-style-errorField",editable:"antd-pro-pages-main-style-editable",advancedForm:"antd-pro-pages-main-style-advancedForm",aa:"antd-pro-pages-main-style-aa",optional:"antd-pro-pages-main-style-optional"}}}]);