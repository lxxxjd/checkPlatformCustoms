(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"u+sV":function(e,a,t){"use strict";t.r(a);t("IzEo");var n,l,i,o,r=t("bx4M"),s=(t("g9YV"),t("wCAj")),c=t("jehZ"),m=t.n(c),u=(t("14J3"),t("BMrR")),d=(t("+L6B"),t("2/Rp")),p=(t("5NDa"),t("5rEg")),f=(t("jCWc"),t("kPKH")),h=(t("miYZ"),t("tsqr")),y=t("p0pE"),v=t.n(y),E=t("2Taf"),g=t.n(E),I=t("vZ4D"),b=t.n(I),C=t("l4Ni"),k=t.n(C),S=t("ujKo"),V=t.n(S),M=t("MhPg"),w=t.n(M),F=(t("2qtc"),t("kLXV")),x=(t("giR+"),t("fyUT")),D=(t("OaEy"),t("2fM7")),N=(t("y8nQ"),t("Vl3Y")),R=t("q1tI"),O=t.n(R),Y=t("MuoO"),L=t("usdK"),B=(t("Y2fQ"),t("zHco")),J=t("wd/R"),j=t.n(J),z=t("glGN"),P=t.n(z),T=N["a"].Item,_=D["a"].Option,q=N["a"].create()(function(e){var a=e.modalVisible,t=e.form,n=e.handleEdit,l=e.handleModalVisible,i=e.modalInfo,o=function(){t.validateFields(function(e,a){e||(t.resetFields(),n(a,i))})};return O.a.createElement(F["a"],{destroyOnClose:!0,title:"\u63a5\u53d7\u5907\u6848",style:{top:100},visible:a,onOk:o,onCancel:function(){return l()}},O.a.createElement(T,{labelCol:{span:10},wrapperCol:{span:14},label:"\u6709\u6548\u5e74\u9650(\u5e74)"},t.getFieldDecorator("validcycle",{initialValue:"1",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6709\u6548\u5e74\u9650"}]})(O.a.createElement(x["a"],{min:1,max:10}))))}),K=(n=Object(Y["connect"])(function(e){var a=e.main,t=e.loading;return{main:a,loading:t.models.main}}),l=N["a"].create(),n(i=l((o=function(e){function a(){var e,t;g()(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return t=k()(this,(e=V()(a)).call.apply(e,[this].concat(l))),t.state={modalVisible:!1,modalInfo:{},dataSource:[]},t.columns=[{title:"\u68c0\u9a8c\u673a\u6784",dataIndex:"namec"},{title:"\u5907\u6848\u6d77\u5173\u540d\u79f0",dataIndex:"customsname"},{title:"\u63d0\u4ea4\u65e5\u671f",dataIndex:"applydate",render:function(e){return t.isValidDate(e)}},{title:"\u63d0\u4ea4\u4eba",dataIndex:"applyman"},{title:"\u8054\u7cfb\u7535\u8bdd",dataIndex:"applytel"},{title:"\u72b6\u6001",dataIndex:"status"},{title:"\u64cd\u4f5c",render:function(e,a){return O.a.createElement(R["Fragment"],null,"\u5df2\u63d0\u4ea4"===e.status?[O.a.createElement("a",{onClick:function(){return t.modifyItem(e,a)}},"\u63a5\u53d7\u5907\u6848\xa0\xa0")]:[],"\u5df2\u63d0\u4ea4"===e.status?[O.a.createElement("a",{onClick:function(){return t.refuseItem(e,a)}},"\u62d2\u7edd\u5907\u6848\xa0\xa0")]:[],O.a.createElement("a",{onClick:function(){return t.toUserInfo(e,a)}},"\u4eba\u5458\u4fe1\u606f \xa0\xa0"),O.a.createElement("a",{onClick:function(){return t.toIntrusment(e,a)}},"\u4eea\u5668\u8bbe\u5907 \xa0\xa0"),O.a.createElement("a",{onClick:function(){return t.toCompanyinfo(e,a)}},"\u516c\u53f8\u4fe1\u606f \xa0\xa0"))}}],t.init=function(){var e=JSON.parse(localStorage.getItem("customs_userinfo")),a=t.props.dispatch,n={customsCompany:e.company};a({type:"main/getPreCustomReceiveListByCustomsName",payload:n,callback:function(e){e&&(t.state.dataSource=e.data)}})},t.handleFormReset=function(){var e=t.props.form;e.resetFields(),t.init()},t.handleSearch=function(e){e.preventDefault();var a=t.props,n=a.dispatch,l=a.form;l.validateFields(function(e,a){if(!e){var l=JSON.parse(localStorage.getItem("customs_userinfo")),i={kind:a.kind.trim(),value:a.value.trim(),customsCompany:l.company};n({type:"main/getPreCustomReceiveListByCustomsName",payload:i,callback:function(e){e&&(t.state.dataSource=e.data)}})}})},t.isValidDate=function(e){return void 0!==e&&null!==e?O.a.createElement("span",null,j()(e).format("YYYY-MM-DD")):[]},t.modifyItem=function(e){t.setState({modalInfo:e}),t.handleModalVisible(!0)},t.refuseItem=function(e){var a=t.props.dispatch;F["a"].confirm({title:"\u786e\u5b9a\u8981\u62d2\u7edd\u6b64\u5907\u6848\u5417\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){var n=e,l=v()({},n);a({type:"main/refuseReceive",payload:l,callback:function(e){"success"===e?(h["a"].success("\u62d2\u7edd\u6210\u529f"),t.init()):h["a"].error("\u62d2\u7edd\u5931\u8d25")}})}})},t.toUserInfo=function(e){sessionStorage.setItem("companyusermanage_certcode",e.certcode),L["a"].push({pathname:"/Main/CompanyUserManage"})},t.toIntrusment=function(e){sessionStorage.setItem("companyusermanage_certcode",e.certcode),L["a"].push({pathname:"/Main/Intrusment"})},t.toCompanyinfo=function(e){sessionStorage.setItem("companyusermanage_certcode",e.certcode),L["a"].push({pathname:"/Main/CompanyInfo"})},t.deleteItem=function(e){var a=t.props.dispatch,n=v()({},e);a({type:"main/deleteBusinessSource",payload:n,callback:function(e){"success"===e?(t.init(),h["a"].success("\u5220\u9664\u6210\u529f")):h["a"].success("\u5220\u9664\u5931\u8d25")}})},t.handleModalVisible=function(e){t.setState({modalVisible:!!e})},t.handleEdit=function(e,a){var n=t.props.dispatch,l=a;l.validcycle=e.validcycle;var i=v()({},l);n({type:"main/acceptReceive",payload:i,callback:function(e){"success"===e?(h["a"].success("\u5907\u6848\u6210\u529f"),t.init()):h["a"].error("\u5907\u6848\u5931\u8d25")}}),t.setState({modalVisible:!1})},t}return w()(a,e),b()(a,[{key:"componentDidMount",value:function(){this.init()}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return O.a.createElement(N["a"],{onSubmit:this.handleSearch,layout:"inline"},O.a.createElement(u["a"],{gutter:{md:8,lg:24,xl:48}},O.a.createElement(f["a"],{md:3,sm:20},O.a.createElement(N["a"].Item,{labelCol:{span:5},wrapperCol:{span:6},colon:!1},e("kind",{initialValue:"applyman",rules:[{message:"\u641c\u7d22\u7c7b\u578b"}]})(O.a.createElement(D["a"],{placeholder:"\u641c\u7d22\u7c7b\u578b"},O.a.createElement(_,{value:"applyman"},"\u63d0\u4ea4\u4eba"),O.a.createElement(_,{value:"applytel"},"\u8054\u7cfb\u7535\u8bdd"),O.a.createElement(_,{value:"status"},"\u72b6\u6001"))))),O.a.createElement(f["a"],{md:6,sm:20},O.a.createElement(T,null,e("value",{rules:[{message:"\u641c\u7d22\u6570\u636e"}]})(O.a.createElement(p["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),O.a.createElement(f["a"],{md:8,sm:20},O.a.createElement("span",{className:P.a.submitButtons},O.a.createElement(d["a"],{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),O.a.createElement(d["a"],{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e")))))}},{key:"render",value:function(){var e=this.props,a=e.loading,t=e.dispatch,n=this.state,l=n.modalVisible,i=n.modalInfo,o=n.dataSource,c={handleEdit:this.handleEdit,handleModalVisible:this.handleModalVisible};return O.a.createElement(B["a"],null,O.a.createElement(r["a"],{bordered:!1,size:"small"},O.a.createElement("div",{className:P.a.tableList},O.a.createElement(q,m()({},c,{modalVisible:l,modalInfo:i,dispatch:t})),O.a.createElement("div",{className:P.a.tableListForm},this.renderSimpleForm()),O.a.createElement(s["a"],{size:"middle",loading:a,dataSource:o,columns:this.columns,rowKey:"itemno",pagination:{showQuickJumper:!0,showSizeChanger:!0}}))))}}]),a}(R["PureComponent"]),i=o))||i)||i);a["default"]=K}}]);